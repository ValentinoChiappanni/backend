{"version":3,"sources":["../../../lib/models/usuario.js"],"names":["Usuario","Model","init","sequelize","nombre","DataTypes","STRING","apellido","fechaNacimiento","DATEONLY","avatarUrl","edad","type","VIRTUAL","INTEGER","get","Math","floor","Date","modelName","esTocayoDe","otroUsuario"],"mappings":";;;;;;;AAAA;;AAEe,MAAMA,OAAN,SAAsBC,gBAAtB,CAA4B;AACzC,SAAOC,IAAP,CAAYC,SAAZ,EAAuB;AACrB,WAAO,MAAMD,IAAN,CACL;AACEE,MAAAA,MAAM,EAAEC,qBAAUC,MADpB;AAEEC,MAAAA,QAAQ,EAAEF,qBAAUC,MAFtB;AAGEE,MAAAA,eAAe,EAAEH,qBAAUI,QAH7B;AAIEC,MAAAA,SAAS,EAAEL,qBAAUC,MAJvB;AAME;AACAK,MAAAA,IAAI,EAAE;AACJ;AACAC,QAAAA,IAAI,EAAE,IAAIP,qBAAUQ,OAAd,CAAsBR,qBAAUS,OAAhC,EAAyC,CAAC,iBAAD,CAAzC,CAFF;AAGJC,QAAAA,GAAG,EAAE,YAAY;AACf,iBAAOC,IAAI,CAACC,KAAL,CACL,CAAC,IAAIC,IAAJ,KAAa,IAAIA,IAAJ,CAAS,KAAKH,GAAL,CAAS,iBAAT,CAAT,CAAd,KACG,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAAjB,GAAsB,MADzB,CADK,CAAP;AAID;AARG;AAPR,KADK,EAmBL;AACEZ,MAAAA,SADF;AAEEgB,MAAAA,SAAS,EAAE;AAFb,KAnBK,CAAP;AAwBD;;AAEDC,EAAAA,UAAU,CAACC,WAAD,EAAc;AACtB,WAAOA,WAAW,CAACjB,MAAZ,KAAuB,KAAKA,MAAnC;AACD;;AA9BwC","sourcesContent":["import { Model, DataTypes } from 'sequelize';\n\nexport default class Usuario extends Model {\n  static init(sequelize) {\n    return super.init(\n      {\n        nombre: DataTypes.STRING,\n        apellido: DataTypes.STRING,\n        fechaNacimiento: DataTypes.DATEONLY,\n        avatarUrl: DataTypes.STRING,\n\n        // Este \"campo\" no se persiste, se calcula a partir de otro/s.\n        edad: {\n          // Definimos el tipo (INTEGER) y de qu√© atributo/s depende (fechaNacimiento).\n          type: new DataTypes.VIRTUAL(DataTypes.INTEGER, ['fechaNacimiento']),\n          get: function () {\n            return Math.floor(\n              (new Date() - new Date(this.get('fechaNacimiento'))) /\n                (1000 * 60 * 60 * 24 * 365.25)\n            );\n          },\n        },\n      },\n      {\n        sequelize,\n        modelName: 'Usuario',\n      }\n    );\n  }\n\n  esTocayoDe(otroUsuario) {\n    return otroUsuario.nombre === this.nombre;\n  }\n}\n"],"file":"usuario.js"}